<html lang="en">
    <head>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <!--suppress HtmlUnknownTarget -->
        <link href="/css/global.css" rel="stylesheet">
        <title>Authorize your account</title>
    </head>
    <body>
      {{#calendar-auth}}
        {{^method}}
          <div class="card">
            <h4 class="card-header">
              Authorize your account
            </h4>
            <div class="card-body text-center">
                <p class="card-text">Choose your calendar provider and auth method:</p>
                <div class="button-container">
                  <div class="btn-group-vertical" role="group">
                    <a class="btn btn-outline-secondary" href="/v1/auth/connect/ms-oauth-sa/{{code}}">
                      Microsoft Exchange (Service Account)
                    </a>
                    <a class="btn btn-outline-secondary" href="/v1/auth/connect/google-oauth/{{code}}">
                      Google (Normal Account)
                    </a>
                    <a class="btn btn-outline-secondary" href="/v1/auth/connect/google-sa/{{code}}">
                      Google (Service Account)
                    </a>
                  </div>
                </div>
              </div>
          </div>
        {{/method}}

        {{#method-google-sa}}
            <form method="post">
              <div class="card">
                <h4 class="card-header">
                  Authorize your Google service account
                </h4>
                <div class="card-body">
                  <div class="form-group">
                    <label for="googleJson">Service account JSON key</label>
                    <textarea
                      id="googleJson" name="json" class="form-control" rows="8" required="required"
                      placeholder="{ &#10;  &quot;type&quot;: &quot;service_account&quot;, &#10;  &quot;project_id&quot;: &quot;abc123&quot; &#10;  ... &#10;}"></textarea>
                    <small class="form-text text-muted">Download JSON key from the Google Cloud console, and copy/paste it here.</small>
                  </div>
                </div>
                <div class="card-footer">
                  <button type="submit" class="btn btn-secondary">Submit</button>
                </div>
              </div>
            </form>
        {{/method-google-sa}}
      {{/calendar-auth}}

      {{#conferencing-auth}}
        <div class="card">
          <h4 class="card-header">
            Authorize your account
          </h4>
          <div class="card-body text-center">
            <p class="card-text">Choose your conferencing provider:</p>
            <div class="button-container">
              <div class="btn-group-vertical" role="group">
                <a class="btn btn-outline-secondary" href="/v1/auth/connect/conf-teams-oauth/{{code}}">
                  Microsoft Teams
                </a>
              </div>
            </div>
          </div>
        </div>
      {{/conferencing-auth}}

      <div class="details">
        Organization: {{orgId}}
      </div>
      {{! Not needed yet:
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
      }}
    </body>
</html>
